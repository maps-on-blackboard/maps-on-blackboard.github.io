!function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=r[s]={exports:{}};e[s][0].call(p.exports,function(t){var r=e[s][1][t];return o(r?r:t)},p,p.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t){function e(t,e){if(t)return void console.log(t);e.features=e.features.map(function(t){return n(t)});var r=o({width:800,height:800},{attributes:{style:"stroke:#006600; fill: #F0F8FF;stroke-width:0.5px;","vector-effect":"non-scaling-stroke"},explode:!1}),s=r.convert(e),a=document.getElementById("map");s.forEach(function(t){var e=i(t);a.appendChild(e)})}var r=t("get-json-data"),n=t("reproject-spherical-mercator"),o=t("geojson2svg"),i=t("parse-svg");r("./data/countries.geo.json",e)},{geojson2svg:6,"get-json-data":7,"parse-svg":8,"reproject-spherical-mercator":9}],2:[function(t,e){!function(){function t(t){return o.indexOf(t.type)>-1?t.coordinates.map(function(e){var r={};return r.type=t.type.replace("Multi",""),r.coordinates=e,t.crs&&(r.crs=t.crs),r}):!1}function r(t){var e=t.every(function(t){return n.indexOf(t.type)>-1}),r=t[0].crs||0,o=t.every(function(t){var e=t.crs||0;return e==r});if(e&&o){var i={};return i.type="Multi"+t[0].type,i.coordinates=[],0!=r&&(i.crs=r),t.forEach(function(t){i.coordinates.push(t.coordinates)}),i}return!1}var n=["Point","LineString","Polygon"],o=["MultiPoint","MultiLineString","MultiPolygon"],i={explode:t,implode:r};"undefined"!=typeof e&&e.exports?e.exports=i:window&&(window.multigeojson=i)}()},{}],3:[function(t,e){function r(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}return t}e.exports=r},{}],4:[function(t,e){function r(t,e,r){var n=t.map(function(t){return(t[0]-r.x)/e+","+(r.y-t[1])/e});return n.join(" ")}function n(t,e,n,o){var i=o&&o.r?o.r:1,s="M"+r([t.coordinates],e,n)+" m"+-i+",0 a"+i+","+i+" 0 1,1 "+2*i+",0 a"+i+","+i+" 0 1,1 "+-2*i+",0";return[s]}function o(t,e,r,o){var i=o&&o.hasOwnProperty("explode")?o.explode:!1,s=u.explode(t).map(function(t){return n(t,e,r,o)[0]});return i?s:[s.join(" ")]}function i(t,e,n){var o=r(t.coordinates,e,n),i="M"+o;return[i]}function s(t,e,r,n){var o=n&&n.hasOwnProperty("explode")?n.explode:!1,s=u.explode(t).map(function(t){return i(t,e,r,n)[0]});return o?s:[s.join(" ")]}function a(t,e,n){var o,i;o=r(t.coordinates[0],e,n),t.coordinates.length>1&&(i=t.coordinates.slice(1,t.coordinates.length));var s="M"+o;if(i)for(var a=0;a<i.length;a++)s+=" M"+r(i[a],e,n);return s+="Z",[s]}function c(t,e,r,n){var o=n.hasOwnProperty("explode")?n.explode:!1,i=u.explode(t).map(function(t){return a(t,e,r,n)[0]});return o?i:[i.join(" ").replace(/Z/g,"")+"Z"]}var u=t("multigeojson");e.exports={Point:n,MultiPoint:o,LineString:i,MultiLineString:s,Polygon:a,MultiPolygon:c}},{multigeojson:2}],5:[function(t,e){var r=t("xtend"),n=t("./converter.js"),o=function(t,e){t&&(this.viewportSize=t,this.options=e||{},this.mapExtent=this.options.mapExtent||{left:-20037508.342789244,right:20037508.342789244,bottom:-20037508.342789244,top:20037508.342789244},this.res=this.calResolution(this.mapExtent,this.viewportSize))};o.prototype.calResolution=function(t,e){var r=(t.right-t.left)/e.width,n=(t.top-t.bottom)/e.height;return Math.max(r,n)},o.prototype.convert=function(t,e){var o=r(r({},this.options),e||{}),i=[];if("FeatureCollection"==t.type)for(var s=0;s<t.features.length;s++)i=i.concat(this.convertFeature(t.features[s],o));else if("Feature"==t.type)i=this.convertFeature(t,o);else if("GeomtryCollection"==t.type)for(var s=0;s<t.geometries.length;s++)i=i.concat(this.convertGeometry(t.geometries[s],o));else{if(!n[t.type])return;i=this.convertGeometry(t,o)}return o.callback&&o.callback.call(this,i),i},o.prototype.convertFeature=function(t,e){if(t||t.geometry){var n=r(r({},this.options),e||{});return n.attributes=n.attributes||{},n.attributes.id=n.attributes.id||t.id||null,this.convertGeometry(t.geometry,n)}},o.prototype.convertGeometry=function(t,e){if(n[t.type]){var o,a,c=r(r({},this.options),e||{}),u=c.output||"svg",p=n[t.type].call(this,t,this.res,{x:this.mapExtent.left,y:this.mapExtent.top},c);return"svg"==u.toLowerCase()?(o=p.map(function(e){return i(e,t.type,c.attributes,c)}),a=o.map(function(e){return s(e,t.type)})):p}};var i=function(t,e,r,n){var o={},i=n&&n.hasOwnProperty("forcePath")?n.forcePath:!0;"Point"!=e&&"MultiPoint"!=e||i?(o={d:t},("Polygon"==e||"MultiPolygon"==e)&&"evenodd"==o["fill-rule"]):(o.cx=t.split(",")[0],o.cy=t.split(",")[1],o.r=n&&n.r?n.r:"1");for(var s in r)o[s]=r[s];return o},s=function(t,e,r){var n=r&&r.hasOwnProperty("forcePath")?r.forcePath:!0,o="<path";"Point"!=e&&"MultiPoint"!=e||n||(o="<circle");for(var i in t)o+=" "+i+'="'+t[i]+'"';return o+="/>"};e.exports=o},{"./converter.js":4,xtend:3}],6:[function(t,e){var r=t("./instance.js"),n=function(t,e){return t?new r(t,e):void 0};e.exports=n},{"./instance.js":5}],7:[function(t,e){!function(){var t,r=function(e,r){if(window.XMLHttpRequest)t=new XMLHttpRequest;else if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}return t?(t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){try{var e=JSON.parse(t.responseText)}catch(n){return void r.call(this,n,null)}r.call(this,null,e)}else r.call(this,"There was a problem with the request.",null)},t.open("GET",e),void t.send()):(r.call(this,"Giving up :( Cannot create an XMLHTTP instance",null),!1)};"undefined"!=typeof e&&e.exports&&(e.exports=r),"undefined"!=typeof window&&(window.getJSONData=r)}()},{}],8:[function(t,e){!function(){function t(t){var e=document.createElementNS("http://www.w3.org/1999/xhtml","div");e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var r=document.createDocumentFragment();e.firstChild.firstChild;)r.appendChild(e.firstChild.firstChild);return r}"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&(window.parseSVG=t)}()},{}],9:[function(t,e){function r(t){return t.map(function(t){return o.forward(t)})}var n=t("sphericalmercator"),o=new n({size:256}),i=function(t){var e={type:t.type};if("Point"==t.type)e.coordinates=o.forward(t.coordinates);else if("LineString"==t.type||"MultiPoint"==t.type)e.coordinates=r(t.coordinates);else if("Polygon"==t.type||"MultiLineString"==t.type)e.coordinates=t.coordinates.map(function(t){return r(t)});else if("MultiPolygon"==t.type)e.coordinates=t.coordinates.map(function(t){return t.map(function(t){return r(t)})});else{if("Feature"!=t.type)throw"Not valid geojson";e.geometry=i(t.geometry),t.id&&(e.id=t.id),t.properties&&(e.properties=t.properties)}return e};e.exports=i},{sphericalmercator:10}],10:[function(t,e,r){var n=function(){function t(t){if(t=t||{},this.size=t.size||256,!e[this.size]){var r=this.size,n=e[this.size]={};n.Bc=[],n.Cc=[],n.zc=[],n.Ac=[];for(var o=0;30>o;o++)n.Bc.push(r/360),n.Cc.push(r/(2*Math.PI)),n.zc.push(r/2),n.Ac.push(r),r*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}var e={},r=Math.PI/180,n=180/Math.PI,o=6378137,i=20037508.342789244;return t.prototype.px=function(t,e){var n=this.zc[e],o=Math.min(Math.max(Math.sin(r*t[1]),-.9999),.9999),i=Math.round(n+t[0]*this.Bc[e]),s=Math.round(n+.5*Math.log((1+o)/(1-o))*-this.Cc[e]);return i>this.Ac[e]&&(i=this.Ac[e]),s>this.Ac[e]&&(s=this.Ac[e]),[i,s]},t.prototype.ll=function(t,e){var r=(t[1]-this.zc[e])/-this.Cc[e],o=(t[0]-this.zc[e])/this.Bc[e],i=n*(2*Math.atan(Math.exp(r))-.5*Math.PI);return[o,i]},t.prototype.bbox=function(t,e,r,n,o){n&&(e=Math.pow(2,r)-1-e);var i=[t*this.size,(+e+1)*this.size],s=[(+t+1)*this.size,e*this.size],a=this.ll(i,r).concat(this.ll(s,r));return"900913"===o?this.convert(a,"900913"):a},t.prototype.xyz=function(t,e,r,n){"900913"===n&&(t=this.convert(t,"WGS84"));var o=[t[0],t[1]],i=[t[2],t[3]],s=this.px(o,e),a=this.px(i,e),c={minX:Math.floor(s[0]/this.size),minY:Math.floor(a[1]/this.size),maxX:Math.floor((a[0]-1)/this.size),maxY:Math.floor((s[1]-1)/this.size)};if(r){var u={minY:Math.pow(2,e)-1-c.maxY,maxY:Math.pow(2,e)-1-c.minY};c.minY=u.minY,c.maxY=u.maxY}return c},t.prototype.convert=function(t,e){return"900913"===e?this.forward(t.slice(0,2)).concat(this.forward(t.slice(2,4))):this.inverse(t.slice(0,2)).concat(this.inverse(t.slice(2,4)))},t.prototype.forward=function(t){var e=[o*t[0]*r,o*Math.log(Math.tan(.25*Math.PI+.5*t[1]*r))];return e[0]>i&&(e[0]=i),e[0]<-i&&(e[0]=-i),e[1]>i&&(e[1]=i),e[1]<-i&&(e[1]=-i),e},t.prototype.inverse=function(t){return[t[0]*n/o,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/o)))*n]},t}();"undefined"!=typeof e&&"undefined"!=typeof r&&(e.exports=r=n)},{}]},{},[1]);